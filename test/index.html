<html>
<body>
<style>
.dude{background:red}
body{
  margin:0;
}
body>div[data-scroll]{
  overflow:hidden;
  top:0;
  bottom:0;
  left:0;
  right:0;
  position:absolute;
}
</style>
<div data-scroll="section" data-wrap="true">
  <section id="one">
  <div>asdf</div>
  </section>
  <section style="height:100%;background:#333" id="two">
  </section>
  <section style="height:100%;background:#999" id="three">
  </section>
</div>

<script src="../m.full.js"></script>
<script>
$(function(){
    //scroll to hash
    var scrollFocus=function(s,d,j,z){
      if(s&&(z=$(s))){
        z.scrollFocus(d,j)

        if(I(s,""))location.hash=s
      }
    }

    //check window location on startup
    scrollFocus(location.hash,100)

    //handle clicks
    $("html").on("click", "a[href^='#']", function(e){
      scrollFocus(this.href,800)

      return false
    })

    $("body").on("mousewheel", "[data-scroll]", function(e){
      var t=this,
      a=$(t.dataset.scroll,t),
      l=a.length,
      s="selected",
      w="wrap",
      c=t.dataset.scroll||s,
      z=$("."+c,t).removeClass(c)[0]||a[0],
      d=e.wheelDelta<0,
      i=d?l:-1

      if(t.dataset[s]==T.toString())return

      t.dataset[s]=T
      z=d?(a[a.indexOf(z)+1]):(a[a.indexOf(z)-1])
      z=z?z:t.dataset[w]==T.toString()&&d?a[0]:a[l-1]

      $(t).scrollTo(z,1500,N,function(){
        if(z.id)W.location.hash="#"+z.id
        $(z).addClass(c)

        setTimeout(function(){
          t.dataset[s]=F
        },800);
      })
    })
})
</script>
<script>
  $.fn.hoverClass=function(c,s){
    $(this)
      .on('mouseover',s,function(e){
        $(this).addClass(c);
      })
      .on('mouseout',s,function(e){
        $(this).removeClass(c);
      })
  }
  $.fn.random=function(){
    var n=Math.round(Math.random()*(this.length-1))

    console.log(n)
    return $(this[n])
  }
  s=$('section')
  s.hoverClass('dude','div')
</script>
</body>
</html>
